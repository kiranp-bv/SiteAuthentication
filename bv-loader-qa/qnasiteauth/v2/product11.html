<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Test Page</title>

    <meta charset="utf-8">
    <script async src="https://apps-qa.bazaarvoice.com/deployments/bv-loader-qa/qnasiteauth/production/en_US/bv.js"></script>
    <script async src="https://apps-qa.bazaarvoice.com/test/scripts/analytics.js" type="text/javascript"></script>
    <script type="text/javascript">
      (function () {
  function bvCallBacksConfig() {
    window.BV.configure('global', {
      events: {
        bvRender: function (data) {
          console.log('bvRender triggered', data)
        },
        submissionLoad: function (data) {
          console.log('submissionLoad triggered', data)
        },
        submissionClose: function (data) {
          console.log('submissionClose triggered', data)
        },
        submissionSubmitted: function (data) {
          console.log('submissionSubmitted triggered', data)
        }
      }
    })
    window.$BV.configure('global', {
      events: {
        bvRender: function (data) {
          console.log('bvRender triggered in v1', data)
        },
        submissionLoad: function (data) {
          console.log('submissionLoad triggered in v1', data)
        },
        submissionClose: function (data) {
          console.log('submissionClose triggered in v1', data)
        },
        submissionSubmitted: function (data) {
          console.log('submissionSubmitted triggered in v1', data)
        }
      }
    })
  }
  
  // Call the setUpCallback function only when `BV` property is defined.
  function init() {
    if (window.BV || window.$BV) {
      bvCallBacksConfig()
    } else {
      Object.defineProperty(window, 'BV', {
        get: () => this._BV,
        set: (val) => {
          this._BV = val
          setTimeout(() => {
            bvCallBacksConfig()
          })
        }
      })
    }
  }
  init()
})()

    </script>
  </head>
  <body>
    <header role="banner" style="text-align: center;">
       TEST PAGE
    </header>

    <main role="main">
      <h1>bv-loader-qa/qnasiteauth [QA]</h1>
      <div data-bv-show="rating_summary" data-bv-product-id="product1"></div>
      <div data-bv-show="reviews" data-bv-product-id="product1"></div>

    </main>
    
    <footer role="contentinfo">
      <p></p>
    </footer>
  </body>
</html>